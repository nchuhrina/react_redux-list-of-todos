{"version":3,"sources":["store/index.ts","api.ts","components/ToDo.tsx","components/ToDoList.tsx","App.tsx","index.tsx"],"names":["setTodos","todos","type","setError","error","finishLoading","message","isLoading","state","loading","loadSortButtons","getSortedTodos","sortByField","sort","a","b","user","name","localeCompare","title","Number","completed","initialState","store","createStore","action","filter","todo","id","composeWithDevTools","URL","TODOS_URL","USERS_URL","getPreparedTodos","Promise","all","fetch","then","json","users","map","find","userId","ToDo","dispatch","useDispatch","key","className","classnames","item__completed","onClick","TodoList","App","useSelector","loadButtons","downloadTodos","data","st","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b1469b19.chunk.js","sourcesContent":["import { createStore, AnyAction } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst START_LOADING = 'START_LOADING';\nconst SET_TODOS = 'SET_TODOS';\nconst SET_ERROR = 'SET_ERROR';\nconst FINISH_LOADING = 'FINISH_LOADING';\nconst DELETE_TODO = 'DELETE_TODO';\nconst SORT_TODO = 'SORT_TODO';\n\nexport const startLoading = () => ({\n  type: START_LOADING,\n});\nexport const setTodos = (todos: PreparedTodos) => ({\n  type: SET_TODOS,\n  todos,\n});\n\nexport const setError = (error = '') => ({\n  type: SET_ERROR,\n  error,\n});\n\nexport const finishLoading = (message = '') => ({\n  type: FINISH_LOADING,\n  message,\n});\nexport const deleteTask = (data: number) => ({\n  type: DELETE_TODO,\n  id: data,\n});\nexport const sortTodo = (sortByField: string) => ({\n  type: SORT_TODO,\n  sortByField,\n});\n\nexport const isLoading = (state: RootState) => state.loading;\nexport const loadSortButtons = (state: RootState) => state.loadSortButtons;\nexport const getSortedTodos = (state: RootState) => {\n  switch (state.sortByField) {\n    case 'Name':\n      return [...state.todos]\n        .sort((a, b) => a.user.name.localeCompare(b.user.name));\n    case 'Title':\n      return [...state.todos]\n        .sort((a, b) => a.title.localeCompare(b.title));\n    case 'Status':\n      return [...state.todos]\n        .sort((a, b) => Number(a.completed) - Number(b.completed));\n    default:\n      return [...state.todos];\n  }\n};\n\nexport type RootState = {\n  loading: boolean;\n  todos: PreparedTodos[];\n  loadSortButtons: boolean;\n  message: string;\n  sortByField: string;\n};\n\nconst initialState: RootState = {\n  loading: false,\n  todos: [],\n  loadSortButtons: false,\n  message: '',\n  sortByField: '',\n};\n\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case START_LOADING:\n      return {\n        ...state,\n        loading: true,\n        loadSortButtons: true,\n      };\n\n    case SET_TODOS:\n      return {\n        ...state,\n        todos: [...action.todos],\n      };\n\n    case FINISH_LOADING:\n      return {\n        ...state,\n        loading: false,\n      };\n\n    case DELETE_TODO:\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.id),\n      };\n\n    case SORT_TODO:\n      return {\n        ...state,\n        sortByField: action.sortByField,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(),\n);\n\nexport default store;\n","const URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api';\nconst TODOS_URL = `${URL}/todos.json`;\nconst USERS_URL = `${URL}/users.json`;\n\nconst getTodos = () => {\n  return fetch(TODOS_URL)\n    .then(todos => todos.json());\n};\n\nconst getUsers = () => {\n  return fetch(USERS_URL)\n    .then(users => users.json());\n};\n\nexport const getPreparedTodos = async () => {\n  const [todos, users] = await Promise.all([getTodos(), getUsers()]);\n\n  return todos.map((todo: TodoFromServer) => {\n    return {\n      ...todo,\n      user: users.find((user: UserFromServer) => user.id === todo.userId),\n    };\n  });\n};\n","import React from 'react';\nimport classnames from 'classnames';\nimport { useDispatch } from 'react-redux';\nimport { deleteTask } from '../store';\n\ntype Props = {\n  todo: PreparedTodos;\n};\n\nexport const ToDo: React.FC<Props> = ({ todo }) => {\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <li\n        key={todo.id}\n        className=\"todo__item\"\n      >\n        <h3 className=\"todo__item--user\">{todo.user.name}</h3>\n        <p className=\"todo__item--text\">{todo.title}</p>\n        <p\n          className={classnames('item__status', {\n            item__completed: todo.completed,\n          })}\n        >\n          {todo.completed ? 'Done' : 'In Process'}\n        </p>\n        <button\n          type=\"button\"\n          className=\"btn btn-delete\"\n          onClick={() => dispatch(deleteTask(todo.id))}\n        >\n          DELETE\n        </button>\n      </li>\n\n    </>\n  );\n};\n","import React from 'react';\nimport { ToDo } from './ToDo';\n\ntype Props = {\n  todos: Array<PreparedTodos>;\n};\n\nexport const TodoList: React.FC<Props> = ({ todos }) => {\n  return (\n    <>\n      <ul className=\"todo__list\">\n        {todos.map(todo => (\n          <ToDo todo={todo} />\n        ))}\n      </ul>\n    </>\n  );\n};\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getPreparedTodos } from './api';\nimport { TodoList } from './components/ToDoList';\nimport './App.css';\n\nimport {\n  isLoading,\n  getSortedTodos,\n  setTodos,\n  setError,\n  startLoading,\n  finishLoading,\n  sortTodo,\n  loadSortButtons,\n} from './store';\n\nconst App = () => {\n  const sortType = ['Name', 'Title', 'Status'];\n  const loading = useSelector(isLoading);\n  const todos = useSelector(getSortedTodos);\n  const loadButtons = useSelector(loadSortButtons);\n  const dispatch = useDispatch();\n\n  const downloadTodos = async () => {\n    dispatch(startLoading());\n    try {\n      const data = await getPreparedTodos();\n\n      dispatch(setTodos(data));\n    } catch (error) {\n      dispatch(setError(`ERROR: ${error}`));\n    }\n\n    dispatch(finishLoading());\n  };\n\n  const handleSort = (sort: string) => {\n    return dispatch(sortTodo(sort));\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Redux list of todos</h1>\n      {loadButtons\n        ? (\n          <div className=\"todo__button\">\n            {sortType.map(st => (\n              <button type=\"button\" className=\"btn btn-info\" onClick={() => handleSort(st)}>\n                Sort By\n                {' '}\n                {st}\n              </button>\n            ))}\n          </div>\n        )\n        : (\n          <button\n            type=\"button\"\n            className=\"btn btn-load\"\n            onClick={downloadTodos}\n          >\n            Load ToDos\n          </button>\n        )}\n      {loading\n        ? 'Loading...'\n        : <TodoList todos={todos} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './store';\nimport App from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}